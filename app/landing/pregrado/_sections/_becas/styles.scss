@use '@styles/autoload' as *;

.scholarships {
  // Variables locales
  --tab-border-color: var(--neutral-800);
  --tab-active-color: var(--primary-500);
  --content-spacing: var(--spacing-lg);
  --tab-spacing: var(--spacing-md);

  padding: var(--spacing-xl) 0;
  background-color: var(--background-100);

  // Título principal
  &__main-title {
    margin-bottom: var(--spacing-xl);
    color: var(--neutral-200);
  }

  // Contenedor de tabs
  &__tabs-container {
    // El Container padre ya maneja el max-width y centrado
  }

  // Navegación de tabs
  &__tabs-nav {
    margin-bottom: var(--spacing-lg);
  }

  &__tabs-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    border-bottom: 2px solid var(--tab-border-color);
    gap: 0;
    justify-content: center;

    @include responsive {
      gap: var(--spacing-sm);
    }
  }

  &__tab-button {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-lg);
    background: transparent;
    border: none;
    font-size: rem(14px);
    font-weight: 500;
    color: var(--neutral-500);
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    position: relative;

    @include responsive {
      padding: var(--spacing-sm) var(--spacing-md);
      font-size: var(--font-size-small);
    }

    // Línea inferior para tab activa (igual que perfiles)
    &::after {
      content: '';
      position: absolute;
      bottom: rem(-1px);
      left: 0;
      right: 0;
      height: rem(3px);
      background-color: var(--tab-active-color);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    // Hover state
    &:hover:not([aria-selected='true']) {
      color: var(--tab-active-color);
      background-color: var(--neutral-1000);
    }

    // Active state
    &[aria-selected='true'] {
      color: var(--tab-active-color);
      font-weight: 600;

      &::after {
        transform: scaleX(1);
      }
    }

    // Focus visible solo para navegación con teclado, no para clics
    &:focus-visible {
      outline: 2px solid var(--tab-active-color);
      outline-offset: 2px;
    }

    // Quitar outline cuando se hace clic
    &:focus:not(:focus-visible) {
      outline: none;
    }
  }

  &__tab-icon {
    font-size: 1.2rem;
  }

  // Contenido de tabs
  &__tabs-content {
    min-height: 400px;
  }

  &__tab-panel {
    animation: fadeIn 0.3s ease-in-out;

    &.hidden {
      display: none;
    }

    // Asegurar que el contenido sea accesible cuando está visible
    &:not(.hidden) {
      display: block;
    }
  }

  &__content-wrapper {
    display: grid;
    grid-template-columns: 30% 70%;
    gap: var(--content-spacing);
    align-items: center;
    padding: var(--content-spacing);
    background: var(--background-100);
    border-radius: rem(12px);
    border: 1px solid var(--neutral-900);

    // Solo en móvil muy pequeño (menos de 640px) cambiar a columna única
    @media (max-width: 640px) {
      grid-template-columns: 1fr;
      gap: var(--spacing-md);
      text-align: center;
    }
  }

  &__icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 150px;
    height: 150px;
    background-color: var(--primary-100);
    border-radius: 50%;
    flex-shrink: 0;
    margin: 0 auto;

    // Solo centrar en móvil muy pequeño
    @media (max-width: 640px) {
      width: 100px;
      height: 100px;
    }
  }

  &__content-icon {
    font-size: 100px;
    color: var(--primary-500);

    @media (max-width: 640px) {
      font-size: 60px;
    }
  }

  &__text-container {
    flex: 1;
  }

  &__content-title {
    margin-bottom: var(--spacing-md);
    color: var(--neutral-200);
  }

  &__content-text {
    margin-bottom: var(--spacing-lg);
    color: var(--neutral-400);
    line-height: 1.6;

    p {
      margin-bottom: var(--spacing-sm);
      
      &:last-child {
        margin-bottom: 0;
      }
    }

    ul {
      margin: var(--spacing-sm) 0;
      padding-left: var(--spacing-lg);
      
      li {
        margin-bottom: var(--spacing-sm);
        
        strong {
          color: var(--neutral-300);
        }
      }
    }

    .terms-note {
      font-size: var(--font-size-small);
      font-style: italic;
      color: var(--neutral-500);
      margin-top: var(--spacing-md);
    }
  }

  &__cta-button {
    // El variant="solid" ya incluye todos los estilos y efectos necesarios
    margin-top: var(--spacing-sm);
  }

  // Estados y animaciones
  transition: all 0.3s ease;

  // Soporte para tema oscuro
  @include dark-theme {
    --tab-border-color: var(--neutral-600);
    
    &__content-wrapper {
      background: var(--background-200);
      border-color: var(--neutral-700);
    }

    &__icon-container {
      background-color: var(--primary-900);
    }

    &__tab-button:hover {
      background-color: var(--neutral-800);
    }
  }
}

// ==========================================
// ANIMACIÓN FADEIN
// ==========================================
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(rem(10px));
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ==========================================
// ACCESIBILIDAD - Reducir movimiento
// ==========================================
@media (prefers-reduced-motion: reduce) {
  .scholarships {
    &__tab-panel {
      animation: none;
    }
    
    &__tab-button {
      transition: none;
      
      &::after {
        transition: none;
      }
    }
  }
}