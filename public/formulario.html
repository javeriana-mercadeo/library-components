<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous" />

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <div id="app">
      <div
        id="formulario"
        class="rounded-30 px-2 px-md-3 py-4 mb-50 shadows-sm"
        style="background-color: rgba(var(--bs-light-rgb), 0.8) !important; width: 90%">
        <div class="form-row justify-content-center align-items-center mb-3 mx-2">
          <div class="col">
            <h3 class="d-block fs-4 text-azul fw-bold text-center text-uppercase">Inscríbete aquí</h3>
          </div>
        </div>
        <form
          id="form_SF"
          ref="form_SF"
          v-on:submit.prevent="validateForm"
          action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8"
          method="POST"
          novalidate=""
          aria-label="Formulario de contacto"
          class="needs-validation">
          <input type="hidden" name="oid" value="00Df4000003l8Bf" />
          <input type="hidden" name="retURL" id="retURL" value="https://cloud.cx.javeriana.edu.co/EVENTOS_TKY" />

          <!--Nombres y apellidos-->
          <div class="form-row col-12">
            <div class="form-group col-md-6 col-sm-12">
              <input
                placeholder="*Nombre(s)"
                id="first_name"
                v-model="data.first_name"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                maxlength="40"
                v-on:change="deleteInvalid('first_name')"
                name="first_name"
                type="text"
                :class="{ error: errors.first_name }"
                required="" />
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.first_name">Completa este campo</div>
            </div>

            <div class="form-group col-md-6 col-sm-12">
              <input
                placeholder="*Apellidos"
                id="last_name"
                v-model="data.last_name"
                v-on:change="deleteInvalid('last_name')"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1 needs-validation"
                maxlength="80"
                name="last_name"
                type="text"
                required=""
                :class="{ error: errors.last_name }" />
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.last_name">Completa este campo</div>
            </div>
          </div>

          <!--Documentos de identidad-->
          <div class="form-row col-12">
            <div class="form-group col-5">
              <select
                id="00N5G00000WmhsT"
                v-model="data.tipo_doc"
                v-on:change="deleteInvalid('tipo_doc')"
                name="00N5G00000WmhsT"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                required=""
                :class="{ error: errors.tipo_doc }">
                <option value="">*Tipo de documento</option>
                <option value="CC">Cédula Ciudadanía</option>
                <option value="CE">Cédula Extranjería</option>
                <option value="PA">Pasaporte</option>
                <option value="TI">Tarjeta Identidad</option>
                <!-- Agregar opciones aquí -->
              </select>
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.tipo_doc">Selecciona</div>
            </div>

            <div class="form-group col-7">
              <input
                placeholder="*Número de documento"
                v-on:change="deleteInvalid('numero_doc')"
                v-model="data.numero_doc"
                id="00N5G00000WmhsR"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                maxlength="255"
                name="00N5G00000WmhsR"
                type="text"
                required=""
                :class="{ error: errors.numero_doc }" />
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.numero_doc">Completa este campo</div>
            </div>
          </div>
          <!--Email y celular-->
          <div class="form-row col-12">
            <div class="form-group col-12">
              <input
                placeholder="*Email"
                id="email"
                v-model="data.email"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                maxlength="80"
                name="email"
                type="email"
                required=""
                :class="{ error: errors.email }" />
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.email">Ingresa un correo válido</div>
            </div>
          </div>

          <div class="form-row col-12">
            <div class="form-group col-3">
              <div class="select-wrapper" style="width: 100%">
                <select
                  id="00NJw000002mzb7"
                  name="00NJw000002mzb7"
                  class="prefijoSelect form-control border-top-0 border-left-0 border-right-0 rounded-1"
                  v-model="data.prefijoCel"
                  v-on:change="deleteInvalid('prefijoCel')"
                  required=""
                  style="font-size: medium; padding: 0px 25px 0px 5px">
                  <option value="">(+) Indicativo</option>
                  <option
                    v-for="pais in prefijoCel"
                    :value="pais.phoneCode"
                    v-bind:style="{ backgroundColor: pais.phoneName === 'Colombia' ? 'aliceBlue' : '', color: pais.phoneName === 'Colombia' ? '#000000' : '', fontWeight: pais.phoneName === 'Colombia' ? '900' : '' }">
                    {{ pais.phoneCode }} - {{ pais.phoneName }}
                  </option>
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.prefijoCel">*Seleccione</div>
              </div>
            </div>
            <div class="form-group col-9">
              <input
                placeholder="*Teléfono celular"
                id="mobile"
                v-model="data.mobile"
                v-on:change="deleteInvalid('mobile')"
                class="form-control col-12 border-top-0 border-left-0 border-right-0 rounded-1"
                name="mobile"
                type="text"
                minlength="8"
                maxlength="15"
                required=""
                :class="{ error: errors.mobile }" />
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.mobile">
                *Campo obligatorio (entre 8 y 10 caracteres)
              </div>
            </div>
          </div>

          <!--Ubicacion-->
          <div class="form-row col-12">
            <!-- Pais -->
            <div class="form-group col-12">
              <select
                v-model="data.pais"
                v-on:change="deleteInvalid('pais')"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                id="00N5G00000WmhvJ"
                name="00N5G00000WmhvJ"
                required=""
                :class="{ error: errors.pais }">
                <option value="">*Pais de residencia</option>
                <option v-for="(item, index) in ubicaciones" v-bind:value="index" v-bind:style="(index=='COL') ? 'font-weight: 700;' : '' ">
                  {{ item.nombre }}
                </option>
              </select>
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.pais">Selecciona</div>
            </div>

            <!-- Departamento -->
            <div class="form-group col-md-6 col-sm-12" id="departamentoContainer" v-if="data.pais=='COL'">
              <select
                v-model="data.departamento"
                v-on:change="deleteInvalid('departamento')"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                id="00N5G00000WmhvX"
                name="00N5G00000WmhvX"
                :class="{ error: errors.departamento }">
                <option value="">*Selecciona el departamento</option>
                <option v-for="(item, index) in ubicaciones[data.pais].departamentos" v-bind:value="item.codigo">{{ item.nombre }}</option>
              </select>
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.departamento">Selecciona</div>
            </div>

            <!-- Ciudad -->
            <div class="form-group col-md-6 col-sm-12" id="ciudadContainer" v-if="data.pais=='COL' &amp;&amp; data.departamento!=''">
              <select
                v-model="data.ciudad"
                v-on:change="deleteInvalid('ciudad')"
                class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
                id="00N5G00000WmhvO"
                name="00N5G00000WmhvO"
                v-bind:required="data.pais=='COL'"
                :class="{ error: errors.ciudad }">
                <option value="">*Selecciona la Ciudad</option>
                <option v-for="(item, index) in getCiudades(data.departamento)" v-bind:value="item.codigo">{{ item.nombre }}</option>
              </select>
              <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.ciudad">Selecciona</div>
            </div>
          </div>

          <!-- Tipo de asistente-->
          <div class="form-row col-12">
            <div class="col-md-12 col-sm-12" style="display: none">
              <span class="wpcf7-form-control-wrap">
                <select
                  v-model="data.tipo_asistente"
                  v-on:change="deleteInvalid('tipo_asistente')"
                  class="form-control select validates-as-required form-select rounded-1 text-dark"
                  name="00NJw000001J3g6"
                  id="00NJw000001J3g6"
                  required=""
                  :class="{ error: errors.tipo_asistente }">
                  <!-- <option value="">*Tipo de asistente</option> -->
                  <option value="Aspirante">Aspirante</option>
                  <!-- <option value="Estudiante PUJ">Estudiante PUJ</option>
                            <option value="Padre de familia">Padre de familia y/o Acudiente</option>
                            <option value="Visitante PUJ">Visitante PUJ</option> -->
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.tipo_asistente">Selecciona</div>
              </span>
            </div>

            <input
              type="hidden"
              name="00N5G00000WmhvV"
              value="NOAP"
              v-if="data.tipo_asistente=='Padre de familia' || data.tipo_asistente=='Visitante PUJ'" />

            <!--Nivel académico-->
            <div
              class="col-md-12 col-sm-12"
              id="nivelAcademicoRow"
              v-if="data.tipo_asistente!='' &amp;&amp;
                (data.tipo_asistente=='Aspirante' || data.tipo_asistente=='Estudiante PUJ')">
              <span class="wpcf7-form-control-wrap">
                <select
                  id="nivelacademico"
                  v-model="data.nivelacademico"
                  v-on:change="deleteInvalid('nivelacademico')"
                  class="form-control select validates-as-required form-select rounded-1 text-dark mb-3"
                  name="nivelacademico"
                  :class="{ error: errors.nivelacademico }">
                  <option value="">*Nivel académico</option>
                  <option value="PREG">Pregrado</option>
                  <option value="GRAD">Posgrado</option>
                  <option value="ECLE">Eclesiástico</option>
                  <option value="ETDH">Técnico</option>
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.nivelacademico">Selecciona</div>
              </span>
            </div>
          </div>

          <!--Facultad-->
          <div class="form-row col-12" v-if="data.nivelacademico!=''">
            <div class="col-12">
              <span class="wpcf7-form-control-wrap">
                <select
                  id="Facultad"
                  v-model="data.facultad"
                  v-on:change="deleteInvalid('facultad')"
                  class="form-control select validates-as-required form-select rounded-1 text-dark mb-3"
                  name="Facultad"
                  :class="{ error: errors.facultad }">
                  <option value="">*Selecciona la facultad</option>
                  <option v-for="item in programas[data.nivelacademico]" v-bind:value="item.FacultadCodigo">
                    {{ item.FacultadCodigo }}
                  </option>
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.facultad">Selecciona</div>
              </span>
            </div>
          </div>

          <!--Programa-->
          <div class="form-row col-12" v-if="data.facultad!=''">
            <div class="col-12">
              <span class="wpcf7-form-control-wrap">
                <select
                  id="00N5G00000WmhvV"
                  v-model="data.programa"
                  v-on:change="deleteInvalid('programa')"
                  class="form-control select validates-as-required form-select rounded-1 text-dark mb-3"
                  name="00N5G00000WmhvV"
                  :class="{ error: errors.programa }">
                  <option value="">*Selecciona el programa</option>
                  <option value="NOAP" style="display: none">NOAP</option>
                  <option v-for="prog in programas[data.nivelacademico][data.facultad]?.Programas" v-bind:value="prog.Codigo">
                    {{ prog.Nombre }}
                  </option>
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.programa">Selecciona</div>
              </span>
            </div>
          </div>

          <!--Periodo de Ingreso-->
          <div class="form-row col-12" v-if="data.facultad!=''">
            <div class="col-12 mb-3">
              <span class="wpcf7-form-control-wrap">
                <select
                  id="00N5G00000WmhvI"
                  v-model="data.periodo_esperado"
                  maxlength="20"
                  v-on:change="deleteInvalid('periodo_esperado')"
                  name="00N5G00000WmhvI"
                  class="form-control select validates-as-required form-select rounded-1 text-dark mb-3"
                  :class="{ error: errors.periodo_esperado }">
                  <option value="">*Periodo esperado de Ingreso</option>
                  <option v-for="(index, item) in periodoSel" v-bind:value="index">{{ item }}</option>
                </select>
                <div style="font-size: 12px; color: red !important" class="error_text" v-show="errors.periodo_esperado">Selecciona</div>
              </span>
            </div>
          </div>

          <!-- día de asistencia -->
          <!-- <div class="form-row col-12" v-if="data.tipo_asistente!=''">
        <h5 style="text-align: center"><br />¿Qué día Asistirás?<br /></h5>
        <div style="margin-top: 3px !important" class="form-group col-md-12 col-sm-12" id="diacontainer">
          <select
            v-model="data.dia"
            v-on:change="deleteInvalid('dia')"
            class="form-control border-top-0 border-left-0 border-right-0 rounded-1"
            id="00NJw000004iuIj"
            name="00NJw000004iuIj"
            :class="{ error: errors.dia }"
          >
            <option value="">*Día de asistencia</option>
            <option
              v-if="data.tipo_asistente!='' &amp;&amp;
                        (data.tipo_asistente!='Padre de familia y/o acudiente')"
              value="Lunes, 21 de abril"
            >
              Lunes, 21 de abril (11:00 am)
            </option>
            <option
              v-if="data.tipo_asistente!='' &amp;&amp;
                        (data.tipo_asistente!='Padre de familia y/o acudiente')"
              value="Jueves, 22 de mayo"
            >
              Jueves, 22 de mayo (2:00 pm)
            </option>
            <option
              v-if="data.tipo_asistente!='' &&
                        (data.tipo_asistente!='Padre de familia y/o acudiente')"
              value="viernes, 28 de febrero"
            >
              Viernes, 28 de febrero
            </option>
            <option
              v-if="data.tipo_asistente!='' &&
                        (data.tipo_asistente=='Aspirante' || data.tipo_asistente=='Padre de familia y/o acudiente')"
              value="sábado, 1 de marzo"
            >
              Sábado, 1 de marzo
            </option>
          </select>
          <div class="error_text" v-show="errors.dia">Selecciona</div>
        </div>
      </div> -->

          <!-- para ocultar-->
          <div style="display: none">
            <div class="form-row">
              Origen de la Solicitud:<select
                id="00NJw000001J3Hl"
                name="00NJw000001J3Hl"
                v-model="data.origen_sol"
                title="Origen de la Solicitud">
                <option selected="" value="Web to Lead">Web to Lead</option>
              </select>

              Fuente autorización datos personales:<select
                id="00N5G00000WmhvT"
                name="00N5G00000WmhvT"
                v-model="data.fuenteAutoriza"
                title="Fuente autorización datos personales">
                <option value="Landing Eventos">Landing Eventos</option>
              </select>
              <label for="lead_source">Origen del candidato</label>
              <select id="lead_source" v-model="data.lead" name="lead_source">
                <option value="Landing Pages">Landing Pages</option>
              </select>
              <label for="company">Compañía</label
              ><input id="company" v-model="data.company" maxlength="40" name="company" size="20" type="text" value="NA" />
            </div>

            <!--UTMS-->
            <div class="form-row">
              Fuente:<input id="00N5G00000WmhvW" v-model="data.fuente" name="00N5G00000WmhvW" title="Fuente" type="text" /> Subfuente:<input
                id="00N5G00000WmhvZ"
                v-model="data.subfuente"
                name="00N5G00000WmhvZ"
                title="Subfuente"
                type="text" />
              Medio
              <input id="00NJw000001J3g8" v-model="data.medio" name="00NJw000001J3g8" title="Medio" type="text" />
              Campaña:<input id="00N5G00000Wmi8x" v-model="data.campana" maxlength="255" name="00N5G00000Wmi8x" type="text" />
            </div>
          </div>

          <!--Legales y botón de inscripción-->
          <div class="form-row col-12 mb-3">
            <div class="col-12">
              <span class="d-block text-azul"
                >¿Autoriza usted el tratamiento de sus datos personales de acuerdo con la
                <a
                  href="https://cloud.cx.javeriana.edu.co/tratamiento_Datos_Javeriana_Eventos.html"
                  class="text-azul fw-medium text-decoration-underline"
                  target="_blank"
                  >autorización de privacidad</a
                >?</span
              ><br />
              <div class="form-check form-check-inline">
                <input
                  v-on:change="validateAutoriza()"
                  class="form-check-input"
                  type="radio"
                  v-model="data.autoriza"
                  id="00N5G00000WmhvF"
                  name="00N5G00000WmhvF"
                  value="1" />
                <label class="form-check-label text-azul" for="00N5G00000WmhvF">Sí</label><br />
              </div>
              <div class="form-check form-check-inline">
                <input
                  v-on:change="validateAutoriza()"
                  class="form-check-input"
                  type="radio"
                  v-model="data.autoriza"
                  name="00N5G00000WmhvF"
                  id="00N5G00000WmhvF"
                  value="0" />
                <label class="form-check-label text-azul" for="autorizacion-2">No</label>
              </div>
            </div>
            <div class="col-md-12" id="autorizacionErrorMessage" v-show="errors.autoriza">
              <p style="color: brown; font-size: 0.8rem">
                La Pontificia Universidad Javeriana requiere de su autorización para el tratamiento de sus datos personales para continuar
                con el presente proceso, sin la autorización legalmente no podemos darle continuidad al mismo
              </p>
            </div>
          </div>
          <!--Botón-->
          <div class="form-row col-12 mb-3">
            <div class="col-12">
              <button class="btn btn-warning w-100 py-2 text-azul fw-bold" type="submit" v-bind:disabled="formInValid || isSubmitting">
                Inscríbete ahora
              </button>
            </div>
          </div>
          <div
            id="successMsg"
            class="wpcf7-response-output"
            style="border: 2px solid green; background-color: lightgrey; padding: 10px; border-radius: 5px; display: none">
            Gracias por tu mensaje. Ha sido enviado.
          </div>
        </form>
      </div>
    </div>

    <!-- SE IMPLEMENTA VUE -->
    <script>
      const { createApp } = Vue

      const app = createApp({
        data() {
          return {
            prefijoCel: [],
            programas: [],
            periodos: [],
            ubicaciones: [],
            periodoSel: [],
            formInValid: true,
            isSubmitting: false,
            data: {
              first_name: '',
              last_name: '',
              tipo_doc: '',
              numero_doc: '',
              email: '',
              mobile: '',
              prefijoCel: '',
              pais: '',
              departamento: '',
              ciudad: '',
              tipo_asistente: 'Aspirante',
              nivelacademico: '',
              facultad: '',
              programa: '',
              periodo_esperado: '',
              origen_sol: 'Web to Lead',
              fuenteAutoriza: 'Landing Eventos',
              lead: 'Landing Pages',
              company: 'NA',
              fuente: '',
              subfuente: '',
              medio: '',
              campana: 'MERCA_ENFER_ENFER',
              autoriza: '',
              programNoap: ''
            },
            errors: {
              first_name: false,
              last_name: false,
              tipo_doc: false,
              numero_doc: false,
              email: false,
              mobile: false,
              prefijoCel: false,
              pais: false,
              departamento: false,
              ciudad: false,
              tipo_asistente: false,
              nivelacademico: false,
              facultad: false,
              programa: false,
              periodo_esperado: false,
              origen_sol: false,
              fuenteAutoriza: false,
              lead: false,
              company: false,
              fuente: false,
              subfuente: false,
              medio: false,
              campana: false,
              autoriza: false
            }
          }
        },
        watch: {
          'data.mobile': function (newMobile, oldMobile) {
            this.data.mobile = this.limpiarNumeros(newMobile)
          },
          'data.email': function (newEmail, oldEmail) {
            const regex =
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            if (regex.test(newEmail) === false) {
              this.errors.email = true
            } else {
              this.errors.email = false
            }
          },
          'data.nivelacademico': function (newPerido, oldPeriodo) {
            this.periodoSel = this.periodos[newPerido]
            if (newPerido != oldPeriodo) {
              this.data.programa = ''
              this.data.facultad = ''
              this.data.periodo_esperado = ''
            }
          },
          'data.facultad': function (newFacultad, oldFacultad) {
            if (newFacultad != oldFacultad) {
              this.data.programa = ''
            }
          },
          'data.tipo_asistente': function (newAsis, oldAsis) {
            if (newAsis != oldAsis) {
              this.data.nivelacademico = ''
              this.data.facultad = ''
              this.data.programa = ''
            }
          }
        },
        mounted() {
          // Recien carga el sitio se cargan los datos
          this.limpiarDatos()
          this.getUbicaciones()
          this.getPeriodos()
          this.getProgramas()
          this.getParametersGet()
          this.getPrefijoCel()
        },
        methods: {
          /**
           * Funcion para limpiar la variable de los datos
           **/
          limpiarDatos() {
            this.data = {
              first_name: '',
              last_name: '',
              tipo_doc: '',
              numero_doc: '',
              email: '',
              mobile: '',
              prefijoCel: '',
              pais: '',
              departamento: '',
              ciudad: '',
              tipo_asistente: 'Aspirante',
              nivelacademico: '',
              facultad: '',
              programa: '',
              periodo_esperado: '',
              origen_sol: 'Web to Lead',
              fuenteAutoriza: 'Landing Eventos',
              lead: 'Landing Pages',
              company: 'NA',
              fuente: '',
              subfuente: '',
              medio: '',
              campana: 'MERCA_ENFER_ENFER',
              autoriza: '',
              programNoap: ''
            }
          },
          /**
           * Funcion para obtener los valores de los parametros que vienen por GET
           **/
          getParametersGet() {
            let urlParams = new URLSearchParams(window.location.search)
            this.data.fuente = urlParams.has('utm_source') ? urlParams.get('utm_source') : ''
            this.data.subfuente = urlParams.has('utm_subsource') ? urlParams.get('utm_subsource') : ''
            this.data.medio = urlParams.has('utm_medium') ? urlParams.get('utm_medium') : ''
            this.data.campana = urlParams.has('utm_campaign') ? urlParams.get('utm_campaign') : 'MERCA_ENFER_ENFER'
          },
          /**
           * Funcion para cargar los programas
           **/
          getProgramas() {
            //axios
            //.get('https://cloud.cx.javeriana.edu.co/Programas.json')
            axios
              .get('JSON/programas.json')
              .then(response => {
                this.programas = response.data
              })
              .catch(function (error) {
                console.log(error)
              })
          },
          /**
           * Funcion para cargar los periodos
           **/
          getPeriodos() {
            //axios
            //.get('https://cloud.cx.javeriana.edu.co/periodos.json')
            axios
              .get('JSON/periodos.json')
              .then(response => {
                this.periodos = response.data
              })
              .catch(function (error) {
                console.log(error)
              })
          },
          /**
           * Funcion para cargar las ubicaciones
           **/
          getUbicaciones() {
            //axios
            //.get('https://cloud.cx.javeriana.edu.co/paises.json')
            axios
              .get('JSON/paises.json')
              .then(response => {
                this.ubicaciones = response.data
              })
              .catch(function (error) {
                console.log(error)
              })
          },
          /**
           * Funcion para obtener las ciudades del departamento seleccionado
           **/
          getCiudades(departamento) {
            let departamentoSel = this.ubicaciones['COL'].departamentos.filter(res => {
              return res.codigo == departamento
            })
            return departamentoSel[0].ciudades
          },
          getPrefijoCel() {
            axios.get('JSON/codigosPais.json').then(response => {
              //axios.get('https://cloud.cx.javeriana.edu.co/codigos_pais.Json').then(response => {
              // Filtrar los datos para obtener solo los códigos de país y sus prefijos
              this.prefijoCel = response.data.map(pais => {
                return {
                  iso2: pais.iso2,
                  phoneCode: pais.phoneCode,
                  phoneName: pais.nameES
                }
              })
            })
          },
          /**
           * Funcion para validar si esta el campo de aceptar terminos
           **/
          validateAutoriza() {
            if (this.data.autoriza == '1') {
              this.errors.autoriza = false
              this.formInValid = false
            } else if (this.data.autoriza == '0') {
              this.errors.autoriza = true
              this.formInValid = true
            }
          },
          /**
           * Funcion para limpiar textos
           **/
          limpiarTexto(texto) {
            let textolimpio = texto.replace(/[^a-zA-Záéíóúñ ]/g, '')
            return textolimpio
          },
          /**
           * Funcion para limpiar numeros
           **/
          limpiarNumeros(numero) {
            let textolimpio = numero.replace(/[^0-9 ]/g, '')
            return textolimpio
          },
          /**
           * Funcion para limpiar json
           **/
          limpiarJson(texto) {
            return texto
              .replaceAll('|', '')
              .replace(/(\r\n|\n|\r)/gm, '')
              .replace(/['"]+/g, "'")
              .trim()
          },
          /**
           * Funcion para limpiar alfanumericos
           **/
          limpiarAlfanumerico(text) {
            let textolimpio = text.replace(/[^a-zA-Z0-9- ]/g, '')
            return textolimpio
          },
          /**
           * Funcion para validar que los campos tengan datos
           **/
          validateInputs() {
            let valid = true
            let keys = Object.keys(this.data)
            keys.forEach(element => {
              this.errors[element] = false
              switch (element) {
                case 'first_name':
                case 'last_name':
                case 'tipo_doc':
                case 'numero_doc':
                case 'pais':
                case 'prefijoCel':
                case 'tipo_asistente':
                  if (this.data[element] == '' || this.data[element] == null) {
                    valid = false
                    this.errors[element] = true
                  }
                  break
                case 'departamento':
                case 'ciudad':
                  if ((this.data[element] == '' || this.data[element] == null) && this.data.pais == 'COL') {
                    valid = false
                    this.errors[element] = true
                  }
                  break
                case 'email':
                  const regex =
                    /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                  if (this.data[element] == '' || this.data[element] == null) {
                    valid = false
                    this.errors[element] = true
                  } else if (regex.test(this.data[element]) === false) {
                    valid = false
                    this.errors[element] = true
                  }
                  break
                case 'mobile':
                  if (this.data[element] == '' || this.data[element] == null || this.data[element].length < 8) {
                    valid = false
                    this.errors[element] = true
                  }
                  break
                case 'nivelacademico':
                case 'facultad':
                case 'programa':
                  if (
                    (this.data[element] == '' || this.data[element] == null) &&
                    (this.data.tipo_asistente == 'Aspirante' || this.data.tipo_asistente == 'Estudiante PUJ')
                  ) {
                    valid = false
                    this.errors[element] = true
                  }
                  break
                case 'periodo_esperado':
                  if ((this.data[element] == '' || this.data[element] == null) && this.data.tipo_asistente == 'Aspirante') {
                    valid = false
                    this.errors[element] = true
                  }
                  break

                default:
                  break
              }
            })
            return valid
          },
          /**
           * Funcion para enviar el formulario
           **/
          validateForm: function (e) {
            // Prevenir el envío por defecto
            e.preventDefault()

            if (!this.validateInputs()) {
              return false
            } else {
              // En lugar de enviar el formulario, mostrar los datos
              console.log('Datos del formulario que se enviarían:')

              // Crear un objeto para almacenar los datos del formulario
              const formData = {}

              // Recolectar todos los campos del formulario
              const form = this.$refs.form_SF
              const formElements = form.elements

              // Para cada elemento del formulario, guardar su nombre y valor
              for (let i = 0; i < formElements.length; i++) {
                const element = formElements[i]

                // Solo interesa elementos con nombre (inputs, selects, etc.)
                if (element.name) {
                  // Para radio buttons y checkboxes, solo incluir si están seleccionados
                  if ((element.type === 'radio' || element.type === 'checkbox') && !element.checked) {
                    continue
                  }

                  formData[element.name] = element.value
                }
              }

              // Mostrar los datos en la consola
              console.log(formData)

              // Crear una representación visual de los datos
              let dataDisplay = document.createElement('pre')
              dataDisplay.style.backgroundColor = '#f4f4f4'
              dataDisplay.style.padding = '20px'
              dataDisplay.style.border = '1px solid #ddd'
              dataDisplay.style.borderRadius = '5px'
              dataDisplay.style.maxHeight = '400px'
              dataDisplay.style.overflow = 'auto'
              dataDisplay.style.fontFamily = 'monospace'
              dataDisplay.textContent = JSON.stringify(formData, null, 2)

              // Crear un contenedor para mostrar los datos
              let container = document.createElement('div')
              container.style.position = 'fixed'
              container.style.top = '0'
              container.style.left = '0'
              container.style.right = '0'
              container.style.bottom = '0'
              container.style.backgroundColor = 'rgba(0,0,0,0.8)'
              container.style.zIndex = '9999'
              container.style.display = 'flex'
              container.style.justifyContent = 'center'
              container.style.alignItems = 'center'
              container.style.padding = '20px'

              // Crear un panel para los datos
              let panel = document.createElement('div')
              panel.style.backgroundColor = 'white'
              panel.style.padding = '20px'
              panel.style.borderRadius = '10px'
              panel.style.maxWidth = '90%'
              panel.style.maxHeight = '90%'
              panel.style.overflow = 'auto'

              // Título del panel
              let title = document.createElement('h2')
              title.textContent = 'Datos del formulario (key/value)'
              title.style.marginBottom = '15px'

              // Botón para cerrar
              let closeButton = document.createElement('button')
              closeButton.textContent = 'Cerrar'
              closeButton.style.marginTop = '15px'
              closeButton.style.padding = '8px 15px'
              closeButton.style.backgroundColor = '#4CAF50'
              closeButton.style.color = 'white'
              closeButton.style.border = 'none'
              closeButton.style.borderRadius = '4px'
              closeButton.style.cursor = 'pointer'

              // Evento para cerrar el panel
              closeButton.onclick = function () {
                document.body.removeChild(container)
              }

              // Agregar todos los elementos al DOM
              panel.appendChild(title)
              panel.appendChild(dataDisplay)
              panel.appendChild(closeButton)
              container.appendChild(panel)
              document.body.appendChild(container)

              // No enviamos el formulario
              return false
            }
          },
          /**
           * Funcion para limpiar en caso que sea invalido
           **/
          deleteInvalid(campo) {
            this.errors[campo] = false
          }
        }
      })
      app.mount('#app')
    </script>

    <!--http://127.0.0.1:3000/Form.html?utm_source=Comercial&utm_subsource=Invitación&utm_medium=Correo&utm_campaign=Liferay-->
    <!-- Programa por confirmar: NOAP -->

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>
  </body>
</html>
