@use 'sass:map';
@use 'sass:meta';
@use 'sass:color';
@use 'sass:math';
@use '../../../../../styles/main' as *;

@mixin general-btn {
  .btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: rem(8px) rem(12px);
    border-radius: rem(8px);
    font-size: var(--font-size-paragraph);
    border: rem(1px) solid var(--neutral-1000);
    text-decoration: none;

    @include hover-transition;

    &:hover {
      background-color: var(--neutral-1000);
      color: var(--primary);
    }
  }

  @include theme-variants-component('btn', meta.get-mixin('button-theme-style'));
}

@mixin button-theme-style($color-values) {
  $solid-color: if(map.has-key($color-values, 600), map.get($color-values, 600), map.get($color-values, ''));
  $solid-hover-color: if(map.has-key($color-values, 600), map.get($color-values, 600), map.get($color-values, ''));
  $border-color: if(map.has-key($color-values, 900), map.get($color-values, 900), $solid-color);
  $text-color: text-contrast($solid-color);
  $text-color-hover: text-contrast($solid-hover-color);

  background-color: $solid-color;
  color: $text-color;
  border: 2px solid $border-color;

  &:hover {
    background-color: $solid-hover-color;
    color: $text-color-hover;
  }

  @include dark-theme {
    $solid-color: if(map.has-key($color-values, 200), map.get($color-values, 200), map.get($color-values, ''));
    $solid-hover-color: if(map.has-key($color-values, 600), map.get($color-values, 600), map.get($color-values, ''));
    $border-color: if(map.has-key($color-values, 900), map.get($color-values, 900), $solid-color);
    $text-color: text-contrast($solid-color);
    $text-color-hover: text-contrast($solid-hover-color);

    background-color: $solid-color;
    color: $text-color;
    border: 2px solid $border-color;

    &:hover {
      background-color: $solid-hover-color;
      color: $text-color-hover;
    }
  }
}
